<!DOCTYPE html>
{% assign lang = page.lang | default: "en" %}
<html lang="{{ lang }}">
  {% include head.html %}

  <body>
    {% include menu.html %}
    {{ content }}
    {% include footer.html %}

    <script src="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"></script>
    <script src="/simple-jekyll-search.js"></script>
    <script>
     AOS.init({
       once: true
     });

     // Company Search
     let placeholder_text = "{{ site.data.translations['searchPlaceholder'][page.lang] }}";
     const categories = ['Ruby', 'Python', 'PHP', 'Java', 'TypeScript', 'React', 'Vue', 'AWS', 'Django', 'Rails'];

     // Durstenfeld Shuffle Algorithm
     // https://ja.wikipedia.org/wiki/フィッシャー–イェーツのシャッフル
     for (i=categories.length; 1<i ; i--) {
       j = Math.floor(Math.random() * i);
       [categories[j], categories[i-1]] = [categories[i-1], categories[j]];
     }
     placeholder_text += categories[0] + ", " + categories[1] + ", " + categories[2];
     document.getElementById("search-input").placeholder = placeholder_text;

     const searchTarget = "/search-{{ lang }}.json";
     const sjs = SimpleJekyllSearch({
       searchInput:          document.getElementById('search-input'),
       resultsContainer:     document.getElementById('search-results'),
       json:                 searchTarget,
       limit:                20,

       searchResultTemplate: '<li><a href="{url}">{title}</a> <small><small>{description}</small></small></li>',
       noResultsText:        '{{ site.data.translations["searchNoResults"][page.lang] }}',
       loadingText:          '{{ site.data.translations["searchLoading"][page.lang] }}',
     });
    </script>
  </body>
</html>
